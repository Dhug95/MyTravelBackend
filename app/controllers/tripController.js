const User = require('../models/user');
const Trip = require('../models/trip');

// route to create a trip (POST http://localhost:8080/app/trips)
exports.create_trip = function (req, res) {
    // get parameters
    const name = req.query.name;
    const start = req.query.start;
    const end = req.query.end;

    const def = "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";

    const image = req.query.image || def;

    console.log(image);

    User.findById(req.decoded.id, function (err, user) {
        // create user with parameters
        const newTrip = new Trip({
            name: name,
            startDate: start,
            endDate: end,
            creator: user._id,
            image: image,
            participants: [user.username]
        });

        // save the new user
        newTrip.save(function (err) {
            if (err) {
                res.json({success: false, message: err.message});
            } else {
                res.json({success: true, message: 'Trip correctly added.'});
            }
        });
    });

};

// route to return all my trips (GET http://localhost:8080/app/mytrips)
exports.my_trips = function (req, res) {
    Trip.find({participants: req.decoded.username}, function (err, trips) {
        res.json(trips);
    });
};

// route to get a single trip (GET http://localhost:8080/app/trips/:trip_id)
exports.get_trip = function (req, res) {
    Trip.findById(req.params.trip_id, function (err, trip) {
        if (err) {
            res.json(err);
        } else {
            res.json(trip);
        }
    });
};

// route to delete a single trip (DELETE http://localhost:8080/app/trips/:trip_id)
exports.delete_trip = function (req, res) {
    Trip.findByIdAndDelete(req.params.trip_id, function (err, trip) {
        if (err) {
            res.json(err);
        } else {
            res.json({success: true, message: 'Trip deleted.'});
        }
    });
};

//route to add a participant to the trip (POST http://localhost:8080/app/trips/:trip_id/add_participant)
exports.add_participant = function (req, res) {
    const trip_id = req.query.trip_id;
    const username = req.query.username;

    User.findOne({username: username}, function (err, user) {
        if (err) {
            res.json({success: false, message: err.message});
        } else {
            if (!user) {
                res.json({success: false, message: "User not found."});
            } else {
                Trip.findByIdAndUpdate(trip_id, {$push: {participants: username}}, function (err, trip) {
                    if (err) {
                        res.json({success: false, message: err.message});
                    } else {
                        res.json({success: true, message: 'User added'});
                    }
                });
            }
        }
    });
};

//route to delete a participant to the trip (DELETE http://localhost:8080/app/trips/:trip_id/remove_part)
exports.remove_participant = function (req, res) {
    const trip_id = req.query.trip_id;
    const username = req.query.username;

    Trip.findByIdAndUpdate(trip_id, {$pull: {participants: username}}, function (err, trip) {
        if (err) {
            res.json({success: false, message: err.message});
        } else {
            res.json({success: true, message: 'User removed.'});
        }
    });
};

//route to get participants list (GET http://localhost:8080/app/trips/:trip_id/get_participants)
exports.get_participants = function (req, res) {
    const trip_id = req.query.trip_id;
    Trip.findById(trip_id, function (err, trip) {
        if (err) {
            res.json({success: false, message: err.message});
        } else {
            res.json(trip.participants);
        }
    })
};

//route to add a payment to the trip (POST http://localhost:8080/app/trips/:trip_id/add_payment)
exports.add_payment = function (req, res) {
    const trip_id = req.query.trip_id;
    const amount = req.query.amount;
    const username = req.decoded.username;

    const newPayment = {
        username: username,
        amount: amount
    };

    Trip.findByIdAndUpdate(trip_id, {$push: {payments: newPayment}}, function (err, trip) {
        if (err) {
            res.json({success: false, message: err.message});
        } else {
            res.json({success: true, message: 'Payment added.'});
        }
    });
};

//route to get payment list (GET http://localhost:8080/app/trips/:trip_id/get_payments)
exports.get_payments = function (req, res) {
    const trip_id = req.query.trip_id;
    Trip.findById(trip_id, function (err, trip) {
        if (err) {
            res.json({success: false, message: err.message});
        } else {
            res.json(trip.payments);
        }
    })
};

//route to remove payment (DELETE http://localhost:8080/app/trips/:trip_id/remove_payment)
exports.remove_payment = function (req, res) {
    const trip_id = req.query.trip_id;
    const payment_id = req.query.payment_id;
    const username = req.query.username;
    const amount = req.query.amount;

    const paymentToRemove = {
        username: username,
        amount: amount
    };

    Trip.findByIdAndUpdate(trip_id, {$pull: {payments: paymentToRemove}}, function (err, trip) {
        if (err) {
            res.json({success: false, message: err.message});
        } else {
            res.json({success: true, message: 'Payment deleted.'});
        }
    });
};
